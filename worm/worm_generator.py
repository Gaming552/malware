import os
import random
import shutil
import string

def generate_file():
    # Generate random file name
    filename = ''.join(random.choice(string.ascii_lowercase) for i in range(8)) + '.exe'

    # Create new file with random content
    with open(filename, 'wb') as f:
        f.write(os.urandom(random.randint(1024, 4096)))

    return filename

def infect_file(filename):
    # Choose random line to infect
    with open(filename, 'rb') as f:
        lines = f.readlines()
        line_number = random.randint(0, len(lines) - 1)
        line = lines[line_number]

    # Replace random byte in line with virus code
    virus_code = b'virus_code_goes_here'
    random_byte = random.randint(0, len(line) - len(virus_code))
    infected_line = line[:random_byte] + virus_code + line[random_byte + len(virus_code):]

    # Update file with infected line
    lines[line_number] = infected_line
    with open(filename, 'wb') as f:
        f.writelines(lines)

def main():
    # Generate and infect random file
    filename = generate_file()
    infect_file(filename)

    # Copy infected file to USB drive
    usb_drive = 'F:\\'  # Change to USB drive path
    shutil.copy(filename, usb_drive)

if __name__ == '__main__':
    main()

